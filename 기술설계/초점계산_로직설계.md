# TryAngle ê¸°ìˆ  ì„¤ëª…ì„œ

**Perspective-Aware Intelligent Photography Guide System**

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‚¬ì§„í•™ì  ë°°ê²½ ì´ë¡ ](#2-ì‚¬ì§„í•™ì -ë°°ê²½-ì´ë¡ )
3. [í•µì‹¬ ë¬¸ì œ ì •ì˜](#3-í•µì‹¬-ë¬¸ì œ-ì •ì˜)
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#4-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
5. [Focal-Net ëª¨ë¸ ì„¤ê³„](#5-focal-net-ëª¨ë¸-ì„¤ê³„)
6. [ë°ì´í„°ì…‹ êµ¬ì¶•](#6-ë°ì´í„°ì…‹-êµ¬ì¶•)
7. [ë¬¼ë¦¬ ê¸°ë°˜ ê±°ë¦¬ ì¶”ì •](#7-ë¬¼ë¦¬-ê¸°ë°˜-ê±°ë¦¬-ì¶”ì •)
8. [ì‹¤ì‹œê°„ ê°€ì´ë“œ ì•Œê³ ë¦¬ì¦˜](#8-ì‹¤ì‹œê°„-ê°€ì´ë“œ-ì•Œê³ ë¦¬ì¦˜)
9. [êµ¬í˜„ ìƒì„¸](#9-êµ¬í˜„-ìƒì„¸)
10. [UI/UX ì„¤ê³„](#10-uiux-ì„¤ê³„)
11. [ê°œë°œ ë¡œë“œë§µ](#11-ê°œë°œ-ë¡œë“œë§µ)
12. [ê¸°ìˆ ì  ì œì•½ ë° í•´ê²°ì±…](#12-ê¸°ìˆ ì -ì œì•½-ë°-í•´ê²°ì±…)
13. [ê²°ë¡ ](#13-ê²°ë¡ )

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ë¹„ì „

TryAngleì€ **"ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì²˜ëŸ¼ ì°ê³  ì‹¶ë‹¤"**ëŠ” ì¼ë°˜ ì‚¬ìš©ìì˜ ìš•êµ¬ë¥¼ í•´ê²°í•˜ëŠ” AI ê¸°ë°˜ ì‚¬ì§„ ì´¬ì˜ ê°€ì´ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ì¸ìŠ¤íƒ€ê·¸ë¨ì´ë‚˜ Pinterestì—ì„œ ë§ˆìŒì— ë“œëŠ” ì¸ë¬¼ ì‚¬ì§„ì„ ë°œê²¬í–ˆì„ ë•Œ, ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìëŠ” ê·¸ ì‚¬ì§„ì´ ì–´ë–¤ ë Œì¦ˆë¡œ, ì–¼ë§ˆë‚˜ ë–¨ì–´ì§„ ê±°ë¦¬ì—ì„œ ì´¬ì˜ë˜ì—ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¨ìˆœíˆ êµ¬ë„ë§Œ ë”°ë¼í•´ì„œëŠ” ë ˆí¼ëŸ°ìŠ¤ì™€ ê°™ì€ ëŠë‚Œì˜ ì‚¬ì§„ì„ ì–»ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

TryAngleì€ ì´ ë¬¸ì œë¥¼ **ê´‘í•™ì  ì—­ì„¤ê³„(Optical Reverse-Engineering)**ë¥¼ í†µí•´ í•´ê²°í•©ë‹ˆë‹¤.

### 1.2 í•µì‹¬ ì² í•™

> "ë‹¨ìˆœí•œ 2D ì´ë¯¸ì§€ ë§¤ì¹­ì„ ë„˜ì–´, ë ˆí¼ëŸ°ìŠ¤ì˜ ì´¬ì˜ í™˜ê²½(ë Œì¦ˆ, ê±°ë¦¬, êµ¬ë„)ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ ì¬í˜„í•œë‹¤."

ê¸°ì¡´ì˜ ì‚¬ì§„ ê°€ì´ë“œ ì•±ë“¤ì€ ëŒ€ë¶€ë¶„ ë‹¤ìŒê³¼ ê°™ì€ í•œê³„ë¥¼ ê°€ì§‘ë‹ˆë‹¤:

| ê¸°ì¡´ ì ‘ê·¼ë²•               | í•œê³„ì                          |
|---------------------------|--------------------------------|
| êµ¬ë„ ê°€ì´ë“œ (ì‚¼ë¶„í• ì„  ë“±) | ë Œì¦ˆ ì™œê³¡, ì›ê·¼ê° ì°¨ì´ ë¬´ì‹œ    |
| í¬ì¦ˆ ë§¤ì¹­                 | ì¹´ë©”ë¼-í”¼ì‚¬ì²´ ê±°ë¦¬ ê³ ë ¤ ì•ˆ í•¨  |
| í•„í„°/ë³´ì •                 | ì´¬ì˜ ë‹¨ê³„ê°€ ì•„ë‹Œ í›„ì²˜ë¦¬ì— ì§‘ì¤‘ |

TryAngleì€ ì´¬ì˜ ë‹¨ê³„ì—ì„œ ë ˆí¼ëŸ°ìŠ¤ì™€ ë™ì¼í•œ ê´‘í•™ì  ì¡°ê±´ì„ ì¬í˜„í•˜ë„ë¡ ì‚¬ìš©ìë¥¼ ê°€ì´ë“œí•©ë‹ˆë‹¤.

### 1.3 í•µì‹¬ ê¸°ëŠ¥ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INPUT                                                      â”‚
â”‚  â”€â”€â”€â”€â”€                                                      â”‚
â”‚  â€¢ ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ (EXIF ë©”íƒ€ë°ì´í„° ì—†ìŒ)                     â”‚
â”‚  â€¢ ì‹¤ì‹œê°„ ì¹´ë©”ë¼ í”„ë¦¬ë·°                                     â”‚
â”‚                                                             â”‚
â”‚  PROCESSING                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                 â”‚
â”‚  â€¢ AI ê¸°ë°˜ ì´ˆì ê±°ë¦¬(ì¤Œ ë°°ìœ¨) ì—­ì¶”ì •                         â”‚
â”‚  â€¢ ë¬¼ë¦¬ ê¸°ë°˜ ì´¬ì˜ ê±°ë¦¬ ê³„ì‚°                                 â”‚
â”‚  â€¢ ì‹¤ì‹œê°„ í¬ì¦ˆ ë° êµ¬ë„ ë¹„êµ                                 â”‚
â”‚                                                             â”‚
â”‚  OUTPUT                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ "2ë°° ì¤Œìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”"                                  â”‚
â”‚  â€¢ "1.3m ë’¤ë¡œ ë¬¼ëŸ¬ë‚˜ì„¸ìš”"                                   â”‚
â”‚  â€¢ ê³ ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ì‹œê° ê°€ì´ë“œ                              â”‚
â”‚  â€¢ ì¡°ê±´ ì¶©ì¡± ì‹œ ì´¬ì˜ ë²„íŠ¼ í™œì„±í™”                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì‚¬ì§„í•™ì  ë°°ê²½ ì´ë¡ 

### 2.1 ì´ˆì ê±°ë¦¬ì™€ ì›ê·¼ê°ì˜ ê´€ê³„

ì‚¬ì§„ì—ì„œ **ì´ˆì ê±°ë¦¬(Focal Length)**ëŠ” ë‹¨ìˆœíˆ "ì–¼ë§ˆë‚˜ í™•ëŒ€ë˜ëŠ”ê°€"ë§Œì„ ê²°ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ˆì ê±°ë¦¬ëŠ” **ì›ê·¼ê°(Perspective)**ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.

#### 2.1.1 ê´‘ê° ë Œì¦ˆ (24mm ì´í•˜)

**íŠ¹ì§•:**
- ë„“ì€ í™”ê° (84Â° ì´ìƒ)
- ê°€ê¹Œìš´ ë¬¼ì²´ëŠ” í¬ê²Œ, ë¨¼ ë¬¼ì²´ëŠ” ì‘ê²Œ (ì›ê·¼ ê³¼ì¥)
- ì§ì„ ì´ íœ˜ì–´ ë³´ì´ëŠ” ì™œê³¡ ë°œìƒ
- ì¸ë¬¼ ì´¬ì˜ ì‹œ ì½”ê°€ í¬ê²Œ, ê·€ê°€ ì‘ê²Œ ë³´ì„ (ì–¼êµ´ ì™œê³¡)

**ì‚¬ìš© ì˜ˆ:**
- í’ê²½ ì‚¬ì§„
- ê±´ì¶•ë¬¼ ì‚¬ì§„
- ë‹¨ì²´ ì‚¬ì§„

#### 2.1.2 í‘œì¤€ ë Œì¦ˆ (35-50mm)

**íŠ¹ì§•:**
- ì¸ê°„ì˜ ì‹œì•¼ì™€ ìœ ì‚¬í•œ í™”ê° (46-63Â°)
- ìì—°ìŠ¤ëŸ¬ìš´ ì›ê·¼ê°
- ì™œê³¡ì´ ì ìŒ

**ì‚¬ìš© ì˜ˆ:**
- ìŠ¤íŠ¸ë¦¬íŠ¸ í¬í† 
- ë‹¤íë©˜í„°ë¦¬
- ì¼ìƒ ìŠ¤ëƒ…

#### 2.1.3 ë§ì› ë Œì¦ˆ (85mm ì´ìƒ)

**íŠ¹ì§•:**
- ì¢ì€ í™”ê° (28Â° ì´í•˜)
- ì›ê·¼ê° ì••ì¶• (ë°°ê²½ì´ ê°€ê¹Œì›Œ ë³´ì„)
- ì–¼êµ´ ì™œê³¡ ìµœì†Œí™”
- ì•„ì›ƒí¬ì»¤ì‹±(ë°°ê²½ íë¦¼) íš¨ê³¼ ê·¹ëŒ€í™”

**ì‚¬ìš© ì˜ˆ:**
- ì¸ë¬¼ ì‚¬ì§„ (85mmê°€ "ì¸ë¬¼ ë Œì¦ˆ"ë¡œ ë¶ˆë¦¼)
- ìŠ¤í¬ì¸  ì‚¬ì§„
- ì•¼ìƒë™ë¬¼ ì‚¬ì§„

### 2.2 ëŒë¦¬ ì¤Œ íš¨ê³¼ (Dolly Zoom)

**ëŒë¦¬ ì¤Œ(Dolly Zoom)**ì€ ì•Œí”„ë ˆë“œ íˆì¹˜ì½• ê°ë…ì´ ì˜í™” "í˜„ê¸°ì¦(Vertigo)"ì—ì„œ ì‚¬ìš©í•˜ì—¬ **"íˆì¹˜ì½• ì¤Œ"**ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì´¬ì˜ ê¸°ë²•ì…ë‹ˆë‹¤.

#### 2.2.1 ì›ë¦¬

**í•µì‹¬ ê³µì‹:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  í”¼ì‚¬ì²´ í¬ê¸° âˆ ì´ˆì ê±°ë¦¬(f) / ê±°ë¦¬(d)                        â”‚
â”‚                                                             â”‚
â”‚  ì¦‰, í”¼ì‚¬ì²´ì˜ í™”ë©´ìƒ í¬ê¸°ë¥¼ ìœ ì§€í•˜ë ¤ë©´:                     â”‚
â”‚  ì´ˆì ê±°ë¦¬ë¥¼ Në°° ëŠ˜ë¦¬ë©´ â†’ ê±°ë¦¬ë„ Në°° ëŠ˜ë ¤ì•¼ í•¨               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì˜ˆì‹œ:**
- 24mm ë Œì¦ˆ, 1m ê±°ë¦¬ â†’ ì¸ë¬¼ì´ í™”ë©´ì˜ 50% ì°¨ì§€
- 48mm ë Œì¦ˆ, 2m ê±°ë¦¬ â†’ ì¸ë¬¼ì´ ì—¬ì „íˆ í™”ë©´ì˜ 50% ì°¨ì§€
  (í•˜ì§€ë§Œ ë°°ê²½ì˜ ì••ì¶•ê°ì€ ì™„ì „íˆ ë‹¤ë¦„!)

#### 2.2.2 ì‹œê°ì  ì°¨ì´

ë™ì¼í•œ ì¸ë¬¼ í¬ê¸°, ë‹¤ë¥¸ ë Œì¦ˆ/ê±°ë¦¬:

```
24mm + 1m:                      85mm + 3.5m:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–²â–²â–² ë„“ì€ ë°°ê²½ â–²â–²â–²  â”‚         â”‚    ì¢ì€ ë°°ê²½       â”‚
â”‚                     â”‚         â”‚    (ì••ì¶•ë¨)        â”‚
â”‚       ğŸ‘¤            â”‚         â”‚       ğŸ‘¤           â”‚
â”‚    (ì½” ì™œê³¡)        â”‚         â”‚   (ìì—°ìŠ¤ëŸ¬ì›€)     â”‚
â”‚                     â”‚         â”‚                    â”‚
â”‚ ì›ê·¼ê° ê³¼ì¥         â”‚         â”‚ ì›ê·¼ê° ì••ì¶•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ì™œ ì´ê²ƒì´ ì¤‘ìš”í•œê°€?

ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì„ "ë”°ë¼ ì°ëŠ”ë‹¤"ëŠ” ê²ƒì€ ë‹¨ìˆœíˆ ê°™ì€ í¬ì¦ˆë¥¼ ì·¨í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.

**ì˜ëª»ëœ ì ‘ê·¼:**
1. ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì˜ í¬ì¦ˆë§Œ ë”°ë¼í•¨
2. ì•„ë¬´ ê±°ë¦¬ì—ì„œ ì•„ë¬´ ì¤Œìœ¼ë¡œ ì´¬ì˜
3. ê²°ê³¼: ì›ê·¼ê°ì´ ë‹¬ë¼ì„œ "ëŠë‚Œ"ì´ ë‹¤ë¦„

**ì˜¬ë°”ë¥¸ ì ‘ê·¼:**
1. ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì˜ ì´ˆì ê±°ë¦¬(ì¤Œ) íŒŒì•…
2. ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì˜ ì´¬ì˜ ê±°ë¦¬ íŒŒì•…
3. ë™ì¼í•œ ì¡°ê±´ìœ¼ë¡œ ì´¬ì˜
4. ê²°ê³¼: ë™ì¼í•œ ì›ê·¼ê°, ë™ì¼í•œ "ëŠë‚Œ"

TryAngleì€ ì´ "ì˜¬ë°”ë¥¸ ì ‘ê·¼"ì„ ìë™í™”í•©ë‹ˆë‹¤.

---

## 3. í•µì‹¬ ë¬¸ì œ ì •ì˜

### 3.1 ë¬¸ì œ 1: EXIF ë©”íƒ€ë°ì´í„° ë¶€ì¬

#### 3.1.1 ë¬¸ì œ ìƒí™©

ì¸í„°ë„·ì—ì„œ ì €ì¥í•œ ì‚¬ì§„ì—ëŠ” ëŒ€ë¶€ë¶„ EXIF ë©”íƒ€ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.

**EXIF ë©”íƒ€ë°ì´í„°ë€?**
- ì¹´ë©”ë¼ê°€ ìë™ìœ¼ë¡œ ê¸°ë¡í•˜ëŠ” ì´¬ì˜ ì •ë³´
- í¬í•¨ ì •ë³´: ì¹´ë©”ë¼ ê¸°ì¢…, ë Œì¦ˆ, ì´ˆì ê±°ë¦¬, ì¡°ë¦¬ê°œ, ì…”í„°ì†ë„, ISO ë“±

**ì™œ ì—†ì–´ì§€ëŠ”ê°€?**
- ì†Œì…œ ë¯¸ë””ì–´ ì—…ë¡œë“œ ì‹œ ìë™ ì œê±° (ê°œì¸ì •ë³´ ë³´í˜¸)
- ìŠ¤í¬ë¦°ìƒ· ì €ì¥ ì‹œ ì†ì‹¤
- ì´ë¯¸ì§€ í¸ì§‘ ì‹œ ì†ì‹¤

#### 3.1.2 í•´ê²° ë°©í–¥

> EXIFê°€ ì—†ë‹¤ë©´ â†’ AIê°€ ì—­ì¶”ì •í•œë‹¤

- **ì…ë ¥:** ì´ë¯¸ì§€ í”½ì…€ ë°ì´í„°ë§Œ
- **ì¶œë ¥:** ì¶”ì • ì´ˆì ê±°ë¦¬ (ì¤Œ ë°°ìœ¨)

ì´ê²ƒì´ **Focal-Net**ì˜ ì—­í• ì…ë‹ˆë‹¤.

### 3.2 ë¬¸ì œ 2: ìŠ¤ì¼€ì¼ ëª¨í˜¸ì„± (Scale Ambiguity)

#### 3.2.1 ë¬¸ì œ ìƒí™©

ë™ì¼í•œ í™”ë©´ìƒ ì¸ë¬¼ í¬ê¸°ê°€ ì„œë¡œ ë‹¤ë¥¸ ì´ˆì ê±°ë¦¬/ê±°ë¦¬ ì¡°í•©ìœ¼ë¡œ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ìˆ˜í•™ì  í‘œí˜„:**

```
ì¸ë¬¼ í¬ê¸° = k Ã— (ì´ˆì ê±°ë¦¬ / ê±°ë¦¬)

ë”°ë¼ì„œ:
â€¢ 50mm / 1.8m = 27.8
â€¢ 85mm / 3.0m = 28.3

ë‘ ê²½ìš° ëª¨ë‘ ë¹„ìŠ·í•œ ì¸ë¬¼ í¬ê¸°!
â†’ ì¸ë¬¼ í¬ê¸°ë§Œ ë³´ê³ ëŠ” êµ¬ë¶„ ë¶ˆê°€
```

#### 3.2.2 í•´ê²° ë°©ë²•

ë‹¨ì¼ ì •ë³´ë¡œëŠ” êµ¬ë¶„ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ë³µí•© ì •ë³´ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

**í•´ê²° ì—´ì‡  1: ë°°ê²½ ì••ì¶•ê° (Background Compression)**
- 50mm: ë°°ê²½ì´ ë„“ê²Œ ë³´ì„ (í™”ê° 47Â°)
- 85mm: ë°°ê²½ì´ ì¢ê²Œ ë³´ì„ (í™”ê° 28Â°)
- â†’ ì¸ë¬¼ ë’¤ ë°°ê²½ì˜ ë²”ìœ„ê°€ ë‹¤ë¦„

**í•´ê²° ì—´ì‡  2: Depth Mapì˜ í‰ë©´ì„± (Depth Flatness)**
- 50mm + ê°€ê¹Œìš´ ê±°ë¦¬: Depth Mapì—ì„œ ì „ê²½-ë°°ê²½ ì°¨ì´ê°€ ê¸‰ê²©í•¨
- 85mm + ë¨¼ ê±°ë¦¬: Depth Mapì´ ì „ì²´ì ìœ¼ë¡œ í‰í‰í•¨ (ì••ì¶• íš¨ê³¼)
- â†’ Depth Anythingì˜ ì¶œë ¥ ë¶„í¬ê°€ ë‹¤ë¦„

**í•´ê²° ì—´ì‡  3: ì–¼êµ´ ë¯¸ì„¸ ì™œê³¡ (Facial Micro-Distortion)**
- ê°€ê¹Œìš´ ê±°ë¦¬: ì½”ê°€ ìƒëŒ€ì ìœ¼ë¡œ í¬ê²Œ, ê·€ê°€ ì‘ê²Œ ë³´ì„
- ë¨¼ ê±°ë¦¬: ì–¼êµ´ì´ í‰ë©´ì ìœ¼ë¡œ ë³´ì„
- â†’ ë¯¸ì„¸í•œ ë¹„ìœ¨ ì°¨ì´ê°€ ì¡´ì¬

#### 3.2.3 Focal-Netì˜ ì ‘ê·¼ë²•

Focal-Netì€ ì„¸ ê°€ì§€ ì •ë³´ë¥¼ ì¢…í•©í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  ì…ë ¥ 1: RGB ì´ë¯¸ì§€                                         â”‚
â”‚  â†’ ë°°ê²½ì˜ ë²”ìœ„, ì–¼êµ´ ë¹„ìœ¨ ë¶„ì„                              â”‚
â”‚                                                             â”‚
â”‚  ì…ë ¥ 2: Depth Map (Depth Anything ì¶œë ¥)                    â”‚
â”‚  â†’ ê¹Šì´ ë¶„í¬ì˜ í‰ë©´ì„± ë¶„ì„                                  â”‚
â”‚                                                             â”‚
â”‚  ìœµí•©: 4ì±„ë„ ì…ë ¥ (RGB + Depth)                             â”‚
â”‚  â†’ MobileViTê°€ ì¢…í•©ì ìœ¼ë¡œ íŒë‹¨                              â”‚
â”‚                                                             â”‚
â”‚  ì¶œë ¥: 5ê°œ í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜                                   â”‚
â”‚  (0.5x / 1x / 2x / 3x / 5x)                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ë¬¸ì œ 3: ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ ëŒ€ì‘

#### 3.3.1 ë¬¸ì œ ìƒí™©

ìŠ¤ë§ˆíŠ¸í°ë§ˆë‹¤ ì„¼ì„œ í¬ê¸°ì™€ ë Œì¦ˆ ì‚¬ì–‘ì´ ë‹¤ë¦…ë‹ˆë‹¤.

**ì•„ì´í° 15 Pro:**
- ë©”ì¸ ì¹´ë©”ë¼ ì„¼ì„œ: 1/1.28"
- 1x ì´ˆì ê±°ë¦¬: 24mm (35mm í™˜ì‚°)
- ê°€ìš© ì¤Œ: 0.5x, 1x, 2x, 3x, 5x

**ê°¤ëŸ­ì‹œ S24 Ultra:**
- ë©”ì¸ ì¹´ë©”ë¼ ì„¼ì„œ: 1/1.3"
- 1x ì´ˆì ê±°ë¦¬: 23mm (35mm í™˜ì‚°)
- ê°€ìš© ì¤Œ: 0.6x, 1x, 2x, 3x, 5x, 10x

â†’ ê°™ì€ "2x ì¤Œ"ì´ë¼ë„ ì‹¤ì œ í™”ê°ì´ ë‹¤ë¦„

#### 3.3.2 í•´ê²° ë°©ë²•

1. **ìŠ¤ë§ˆíŠ¸í° ê¸°ì¤€ í´ë˜ìŠ¤ ì •ì˜**
   - DSLRì˜ ì •ë°€í•œ mm ë‹¨ìœ„ ëŒ€ì‹ , ì¤Œ ë°°ìœ¨ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¥˜
   - 0.5x / 1x / 2x / 3x / 5x (5ê°œ í´ë˜ìŠ¤)

2. **ë””ë°”ì´ìŠ¤ë³„ ë³´ì • í…Œì´ë¸”**
   - ê° ë””ë°”ì´ìŠ¤ì˜ ì„¼ì„œ ì •ë³´ë¥¼ DBí™”
   - ë¬¼ë¦¬ ê³µì‹ì— ë””ë°”ì´ìŠ¤ë³„ íŒŒë¼ë¯¸í„° ì ìš©

3. **35mm í™˜ì‚° ê¸°ì¤€ í†µì¼**
   - ëª¨ë“  ê³„ì‚°ì€ 35mm í™˜ì‚° ì´ˆì ê±°ë¦¬ ê¸°ì¤€
   - ë””ë°”ì´ìŠ¤ ê°„ ë¹„êµ ê°€ëŠ¥

---

## 4. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 4.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TryAngle System Architecture                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    PHASE 1: Reference Analysis                        â”‚  â”‚
â”‚  â”‚                    (ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ - 1íšŒ ì‹¤í–‰)                         â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚   Reference Image                                                     â”‚  â”‚
â”‚  â”‚         â”‚                                                             â”‚  â”‚
â”‚  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚         â–¼                â–¼                 â–¼                  â–¼       â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚   â”‚  Depth   â”‚    â”‚  Focal-  â”‚     â”‚  RTM-    â”‚      â”‚ Mobile-  â”‚    â”‚  â”‚
â”‚  â”‚   â”‚ Anything â”‚â”€â”€â”€â†’â”‚   Net    â”‚     â”‚  Pose    â”‚      â”‚   SAM    â”‚    â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚        â–¼               â–¼                â–¼                  â–¼          â”‚  â”‚
â”‚  â”‚   Depth Map      Zoom Level      Keypoints 133      Silhouette       â”‚  â”‚
â”‚  â”‚   Compression    (0.5x~5x)       Shoulder Ratio      Mask            â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚                              â–¼                                        â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚  â”‚
â”‚  â”‚                    â”‚  Reference Profile  â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ zoom: 2x         â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ distance: ~2.1m  â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ shoulder: 0.32   â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ mask: [data]     â”‚                            â”‚  â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    PHASE 2: Real-time Guidance                        â”‚  â”‚
â”‚  â”‚                    (ì‹¤ì‹œê°„ ê°€ì´ë“œ - ë§¤ í”„ë ˆì„)                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚   Camera Preview (30fps)                                              â”‚  â”‚
â”‚  â”‚         â”‚                                                             â”‚  â”‚
â”‚  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚         â–¼                â–¼                                 â–¼          â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚   â”‚  RTM-    â”‚    â”‚   iOS    â”‚                     â”‚  YOLO-   â”‚       â”‚  â”‚
â”‚  â”‚   â”‚  Pose    â”‚    â”‚   API    â”‚                     â”‚   11n    â”‚       â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚        â–¼               â–¼                                â–¼             â”‚  â”‚
â”‚  â”‚   Current          Current                         Person             â”‚  â”‚
â”‚  â”‚   Shoulder         Zoom Level                      Detected?          â”‚  â”‚
â”‚  â”‚   Ratio            (1x, 2x...)                                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚                              â–¼                                        â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚  â”‚
â”‚  â”‚                    â”‚   Guidance Engine   â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  Compare & Guide    â”‚                            â”‚  â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚
â”‚  â”‚                               â–¼                                       â”‚  â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚  â”‚
â”‚  â”‚                    â”‚   Visual Feedback   â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ Ghost Overlay    â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ Zoom Guide       â”‚                            â”‚  â”‚
â”‚  â”‚                    â”‚  â€¢ Distance Arrow   â”‚                            â”‚  â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Phase 1: ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„

#### 4.2.1 ëª©ì 

ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì„ ë¶„ì„í•˜ì—¬ ì´¬ì˜ ì¡°ê±´ì„ ì—­ì¶”ì •í•©ë‹ˆë‹¤.

#### 4.2.2 ì‹¤í–‰ ì‹œì 

- ì‚¬ìš©ìê°€ ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì§„ì„ ì„ íƒí–ˆì„ ë•Œ 1íšŒë§Œ ì‹¤í–‰
- ë¬´ê±°ìš´ ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥ (ì‹¤ì‹œê°„ ì•„ë‹˜)

#### 4.2.3 ì‚¬ìš© ëª¨ë¸

| ëª¨ë¸              | ì—­í•           | ì¶œë ¥                   |
|-------------------|---------------|------------------------|
| Depth Anything V2 | ê¹Šì´ ì¶”ì •     | Depth Map, ì••ì¶•ê° ì§€ìˆ˜ |
| Focal-Net         | ì´ˆì ê±°ë¦¬ ì¶”ì • | ì¤Œ ë°°ìœ¨ í´ë˜ìŠ¤ (0~4)   |
| RTMPose           | ì¸ì²´ í‚¤í¬ì¸íŠ¸ | 133ê°œ ê´€ì ˆ ì¢Œí‘œ        |
| MobileSAM         | ì¸ë¬¼ ë¶„í•      | ì‹¤ë£¨ì—£ ë§ˆìŠ¤í¬          |

#### 4.2.4 ì¶œë ¥: Reference Profile

```python
@dataclass
class ReferenceProfile:
    # ì´ˆì ê±°ë¦¬/ì¤Œ ì •ë³´
    zoom_class: int           # 0~4 (0.5x, 1x, 2x, 3x, 5x)
    zoom_level: float         # ì‹¤ì œ ì¤Œ ë°°ìœ¨ (ì˜ˆ: 2.0)
    focal_length_35mm: int    # 35mm í™˜ì‚° ì´ˆì ê±°ë¦¬ (ì˜ˆ: 48)

    # ê±°ë¦¬ ì •ë³´
    estimated_distance: float # ì¶”ì • ì´¬ì˜ ê±°ë¦¬ (ë¯¸í„°)
    compression_index: float  # ì••ì¶•ê° ì§€ìˆ˜ (0~1)

    # êµ¬ë„ ì •ë³´
    shoulder_ratio: float     # í™”ë©´ ëŒ€ë¹„ ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨
    shoulder_center: tuple    # ì–´ê¹¨ ì¤‘ì‹¬ì  ì¢Œí‘œ (ì •ê·œí™”)
    keypoints: list           # 133ê°œ í‚¤í¬ì¸íŠ¸

    # ì‹œê° ê°€ì´ë“œìš©
    silhouette_mask: np.array # ì¸ë¬¼ ì‹¤ë£¨ì—£ ë§ˆìŠ¤í¬
```

### 4.3 Phase 2: ì‹¤ì‹œê°„ ê°€ì´ë“œ

#### 4.3.1 ëª©ì 

í˜„ì¬ ì¹´ë©”ë¼ ìƒíƒœë¥¼ Reference Profileê³¼ ë¹„êµí•˜ì—¬ ê°€ì´ë“œ ì œê³µ

#### 4.3.2 ì‹¤í–‰ ì‹œì 

- ì¹´ë©”ë¼ í”„ë¦¬ë·°ê°€ í™œì„±í™”ëœ ë™ì•ˆ ë§¤ í”„ë ˆì„ (30fps) ì‹¤í–‰
- ê°€ë²¼ìš´ ëª¨ë¸ë§Œ ì‚¬ìš©

#### 4.3.3 ì‚¬ìš© ëª¨ë¸

| ëª¨ë¸    | ì—­í•                  | ë¹„ê³              |
|---------|----------------------|------------------|
| RTMPose | í˜„ì¬ í”¼ì‚¬ì²´ í‚¤í¬ì¸íŠ¸ | 133ê°œ ê´€ì ˆ       |
| YOLO11n | ì‚¬ëŒ ê²€ì¶œ ì—¬ë¶€       | ê²€ì¶œ ì‹œì—ë§Œ ë¶„ì„ |

#### 4.3.4 iOS API í™œìš©

```swift
// í˜„ì¬ ì¤Œ ë ˆë²¨ ê°€ì ¸ì˜¤ê¸°
let currentZoom = captureDevice.videoZoomFactor

// í˜„ì¬ ì´ˆì ê±°ë¦¬ ê°€ì ¸ì˜¤ê¸° (ê·¼ì‚¬ê°’)
let focalLength = captureDevice.activeFormat.videoFieldOfView
```

---

## 5. Focal-Net ëª¨ë¸ ì„¤ê³„

### 5.1 ëª¨ë¸ ê°œìš”

Focal-Netì€ EXIF ì •ë³´ ì—†ì´ ì‚¬ì§„ì˜ ì´¬ì˜ ì¤Œ ë°°ìœ¨(ì´ˆì ê±°ë¦¬)ì„ ì¶”ì •í•˜ëŠ” ë”¥ëŸ¬ë‹ ëª¨ë¸ì…ë‹ˆë‹¤.

#### 5.1.1 ëª…ëª… ê·œì¹™

- **ë‚´ë¶€ ëª…ì¹­:** Focal-Net
- **í•™ìˆ  ëª…ì¹­:** Focal Length Estimation Network
- **ì£¼ì˜:** Microsoftì˜ "FocalNet (Focal Modulation Networks)"ê³¼ëŠ” ë¬´ê´€

#### 5.1.2 ì„¤ê³„ ì² í•™

**ë‹¨ìˆœ RGB ì…ë ¥ì˜ í•œê³„:**
- ì¸ë¬¼ í¬ê¸°ë§Œìœ¼ë¡œëŠ” ì´ˆì ê±°ë¦¬/ê±°ë¦¬ ì¡°í•©ì„ êµ¬ë¶„í•  ìˆ˜ ì—†ìŒ (ìŠ¤ì¼€ì¼ ëª¨í˜¸ì„±)
- ë°°ê²½ì´ ì—†ëŠ” ìŠ¤íŠœë””ì˜¤ ì‚¬ì§„ì—ì„œëŠ” ì •ë³´ ë¶€ì¡±

**í•´ê²°ì±…: Multi-modal Fusion**
- RGB (3ì±„ë„) + Depth Map (1ì±„ë„) = 4ì±„ë„ ì…ë ¥
- Depth ì •ë³´ê°€ "ì••ì¶•ê°"ì˜ ì§ì ‘ì  ì¦ê±° ì œê³µ

### 5.2 ëª¨ë¸ ì•„í‚¤í…ì²˜

#### 5.2.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Focal-Net Architecture                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Input: [Batch, 4, 256, 256]                                               â”‚
â”‚          (RGB 3ì±„ë„ + Depth 1ì±„ë„)                                          â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                     Channel Adapter                                â”‚    â”‚
â”‚   â”‚   Conv2d(in=4, out=3, kernel=1Ã—1, bias=False)                     â”‚    â”‚
â”‚   â”‚   BatchNorm2d(3)                                                  â”‚    â”‚
â”‚   â”‚   SiLU()                                                          â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                MobileViT-v2-Small (Backbone)                       â”‚    â”‚
â”‚   â”‚   â€¢ ImageNet Pretrained Weights ì‚¬ìš©                              â”‚    â”‚
â”‚   â”‚   â€¢ Hybrid CNN + Transformer êµ¬ì¡°                                 â”‚    â”‚
â”‚   â”‚   Output: [Batch, 256, 8, 8] Feature Map                          â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                  Global Average Pooling                            â”‚    â”‚
â”‚   â”‚   [Batch, 256, 8, 8] â†’ [Batch, 256]                               â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                    Classification Head                             â”‚    â”‚
â”‚   â”‚   Linear(256, 128) â†’ ReLU â†’ Dropout(0.2) â†’ Linear(128, 5)         â”‚    â”‚
â”‚   â”‚   Output: [Batch, 5] (5ê°œ í´ë˜ìŠ¤ ë¡œì§“)                            â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚   Output: Class Probabilities (Softmax) â†’ Class 2 (2x zoom) ì„ íƒ           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.2 Channel Adapter ìƒì„¸

```python
class ChannelAdapter(nn.Module):
    """
    4ì±„ë„ ì…ë ¥(RGB+Depth)ì„ 3ì±„ë„ë¡œ ë³€í™˜í•˜ëŠ” ì–´ëŒ‘í„°

    ì™œ í•„ìš”í•œê°€?
    - MobileViTëŠ” ImageNetìœ¼ë¡œ 3ì±„ë„ ì…ë ¥ì— ëŒ€í•´ í•™ìŠµë¨
    - ì²« ë²ˆì§¸ ë ˆì´ì–´ë¥¼ 4ì±„ë„ë¡œ ìˆ˜ì •í•˜ë©´ pretrained weights ì†ì‹¤
    - ëŒ€ì‹  ì•ì— ì–´ëŒ‘í„°ë¥¼ ë‘ì–´ 4â†’3 ë³€í™˜ í›„ pretrained ë°±ë³¸ í™œìš©
    """

    def __init__(self):
        super().__init__()
        self.conv = nn.Conv2d(
            in_channels=4,
            out_channels=3,
            kernel_size=1,
            stride=1,
            padding=0,
            bias=False
        )
        self.bn = nn.BatchNorm2d(3)
        self.act = nn.SiLU()  # Swish activation

    def forward(self, x):
        # x: [B, 4, H, W]
        x = self.conv(x)   # [B, 3, H, W]
        x = self.bn(x)
        x = self.act(x)
        return x
```

#### 5.2.3 ì¶œë ¥ í´ë˜ìŠ¤ ì •ì˜

```python
# ìŠ¤ë§ˆíŠ¸í° ì¤Œ ë°°ìœ¨ ê¸°ì¤€ 5ê°œ í´ë˜ìŠ¤
ZOOM_CLASSES = {
    0: {'name': 'ultra_wide', 'zoom': 0.5, 'focal_35mm_range': (10, 16)},
    1: {'name': 'wide', 'zoom': 1.0, 'focal_35mm_range': (22, 28)},
    2: {'name': 'standard', 'zoom': 2.0, 'focal_35mm_range': (45, 55)},
    3: {'name': 'portrait', 'zoom': 3.0, 'focal_35mm_range': (70, 85)},
    4: {'name': 'telephoto', 'zoom': 5.0, 'focal_35mm_range': (100, 140)}
}
```

### 5.3 í•™ìŠµ ì „ëµ

#### 5.3.1 2ë‹¨ê³„ í•™ìŠµ (Two-Stage Training)

**Stage 1: Adapter Warm-up (5 epochs)**
- MobileViT ë°±ë³¸: Frozen
- Channel Adapter + Classification Head: Trainable
- Learning Rate: 1e-3

**Stage 2: Full Fine-tuning (45 epochs)**
- ëª¨ë“  ë ˆì´ì–´: Trainable
- Learning Rate: 1e-5
- LR Scheduler: CosineAnnealingLR

#### 5.3.2 í•™ìŠµ ì„¤ì •

```python
training_config = {
    'backbone': 'MobileViT-v2-Small',
    'input_size': (256, 256),
    'input_channels': 4,
    'num_classes': 5,
    'batch_size': 32,
    'optimizer': 'AdamW',
    'weight_decay': 0.01,
    'loss_function': 'CrossEntropyLoss',

    # ë°ì´í„° ì¦ê°• (í™”ê° ë³´ì¡´)
    'augmentation': {
        'horizontal_flip': True,
        'rotation': 10,
        'color_jitter': (0.1, 0.1, 0.1),
        'random_crop': False  # í™”ê° ì •ë³´ ì†ì‹¤ ë°©ì§€!
    }
}
```

### 5.4 ëª¨ë¸ ë³€í™˜ (CoreML)

```python
import coremltools as ct

def convert_to_coreml(pytorch_model, save_path):
    pytorch_model.eval()
    example_input = torch.randn(1, 4, 256, 256)
    traced_model = torch.jit.trace(pytorch_model, example_input)

    mlmodel = ct.convert(
        traced_model,
        inputs=[ct.TensorType(name="input_rgbd", shape=(1, 4, 256, 256))],
        outputs=[ct.TensorType(name="class_probabilities")],
        compute_units=ct.ComputeUnit.ALL,
        minimum_deployment_target=ct.target.iOS15
    )

    mlmodel.save(save_path)
```

---

## 6. ë°ì´í„°ì…‹ êµ¬ì¶•

### 6.1 ë°ì´í„° ì†ŒìŠ¤: YFCC100M

**YFCC100M (Yahoo Flickr Creative Commons 100 Million)**ì€ Flickrì—ì„œ ìˆ˜ì§‘í•œ 1ì–µ ì¥ì˜ ì´ë¯¸ì§€ ë°ì´í„°ì…‹ì…ë‹ˆë‹¤.

**ì¥ì :**
- EXIF ë©”íƒ€ë°ì´í„° ë³´ì¡´ (ì´ˆì ê±°ë¦¬, ì¹´ë©”ë¼ ì •ë³´ ë“±)
- Creative Commons ë¼ì´ì„ ìŠ¤ (ì—°êµ¬ ëª©ì  ì‚¬ìš© ê°€ëŠ¥)
- ìŠ¤ë§ˆíŠ¸í° ì´¬ì˜ ë¹„ìœ¨ ë†’ìŒ (ìš°ë¦¬ ì•± íƒ€ê²Ÿê³¼ ì¼ì¹˜)

### 6.2 ë°ì´í„° í•„í„°ë§ íŒŒì´í”„ë¼ì¸

```
YFCC100M (1ì–µ ì¥)
      â”‚
      â–¼
Step 1: ìŠ¤ë§ˆíŠ¸í° í•„í„°ë§ (~2000ë§Œ ì¥)
      â”‚
      â–¼
Step 2: EXIF ì´ˆì ê±°ë¦¬ ì¡´ì¬ (~500ë§Œ ì¥)
      â”‚
      â–¼
Step 3: 5ê°œ í´ë˜ìŠ¤ ë¶„ë¥˜
      â”‚
      â–¼
Step 4: í´ë˜ìŠ¤ë³„ ê· ë“± ìƒ˜í”Œë§ (ê° 10,000ì¥)
      â”‚
      â–¼
Step 5: ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (5ë§Œ ì¥)
      â”‚
      â–¼
Step 6: YOLOë¡œ ì¸ë¬¼ í™•ì¸ (~45,000ì¥)
      â”‚
      â–¼
   Final Dataset
```

### 6.3 ë°ì´í„° ì „ì²˜ë¦¬

```python
class FocalNetDataset(torch.utils.data.Dataset):
    def __getitem__(self, idx):
        # 1. ì´ë¯¸ì§€ ë¡œë“œ
        image = Image.open(image_path).convert('RGB')

        # 2. Depth Map ìƒì„± (Depth Anything V2)
        depth_map = self.depth_model(image)

        # 3. ì „ì²˜ë¦¬ ë° 4ì±„ë„ ê²°í•©
        image_tensor = self.transform(image)  # [3, 256, 256]
        depth_tensor = normalize_depth(depth_map)  # [1, 256, 256]
        rgbd_tensor = torch.cat([image_tensor, depth_tensor], dim=0)  # [4, 256, 256]

        return rgbd_tensor, label
```

---

## 7. ë¬¼ë¦¬ ê¸°ë°˜ ê±°ë¦¬ ì¶”ì •

### 7.1 í•€í™€ ì¹´ë©”ë¼ ëª¨ë¸

#### 7.1.1 ê¸°ë³¸ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         í•€í™€ ì¹´ë©”ë¼ ëª¨ë¸                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚        ì‹¤ì œ ì„¸ê³„                    ë Œì¦ˆ              ì„¼ì„œ                  â”‚
â”‚                                                                             â”‚
â”‚           H                          â”‚                  h                   â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”                       â”‚               â”Œâ”€â”€â”€â”€â”€â”                â”‚
â”‚        â”‚     â”‚â†â”€â”€â”€â”€â”€ d â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚â†â”€â”€â”€â”€â”€ f â”€â”€â”€â”€â”€â†’â”‚     â”‚                â”‚
â”‚        â”‚     â”‚       (ê±°ë¦¬)          â”‚   (ì´ˆì ê±°ë¦¬)  â”‚     â”‚                â”‚
â”‚        â””â”€â”€â”€â”€â”€â”˜                       â”‚               â””â”€â”€â”€â”€â”€â”˜                â”‚
â”‚      ì‹¤ì œ í¬ê¸°                    ê´‘í•™ ì¤‘ì‹¬         ì„¼ì„œì— ë§ºíŒ í¬ê¸°        â”‚
â”‚                                                                             â”‚
â”‚   ìœ ì‚¬ ì‚¼ê°í˜• ì›ë¦¬:                                                         â”‚
â”‚                                                                             â”‚
â”‚        H       h                                                            â”‚
â”‚       â”€â”€â”€ = â”€â”€â”€                                                             â”‚
â”‚        d       f                                                            â”‚
â”‚                                                                             â”‚
â”‚   ì •ë¦¬í•˜ë©´:                                                                 â”‚
â”‚                                                                             â”‚
â”‚            H Ã— f                                                            â”‚
â”‚       d = â”€â”€â”€â”€â”€â”€â”€                                                           â”‚
â”‚              h                                                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1.2 ì„¼ì„œì— ë§ºíŒ í¬ê¸° ê³„ì‚°

> **[ìˆ˜ì •ë¨]** ì–´ê¹¨ëŠ” **ê°€ë¡œ(Horizontal)** ì¸¡ì •ê°’ì´ë¯€ë¡œ, **ì„¼ì„œ ê°€ë¡œ í­(sensor_width)**ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```
ì–´ê¹¨ ë„ˆë¹„ëŠ” ê°€ë¡œ ë°©í–¥ ì¸¡ì • â†’ ì´ë¯¸ì§€ ê°€ë¡œ ê¸°ì¤€ìœ¼ë¡œ ë¹„ìœ¨ ê³„ì‚°
â†’ ì„¼ì„œ ê°€ë¡œ í­(sensor_width)ê³¼ ê³±í•´ì•¼ í•¨

ì„¼ì„œì— ë§ºíŒ ì–´ê¹¨ í¬ê¸°:
h = shoulder_ratio Ã— sensor_width

ì˜ˆì‹œ:
â€¢ shoulder_ratio = 0.35 (í™”ë©´ ê°€ë¡œì˜ 35%)
â€¢ sensor_width = 7.47mm (5.6mm Ã— 4/3, ì•„ì´í° 15 Pro)
â€¢ h = 0.35 Ã— 7.47 = 2.61mm
```

### 7.2 ê±°ë¦¬ ì¶”ì • í•¨ìˆ˜

#### 7.2.1 í•µì‹¬ ê³µì‹

> **[ìˆ˜ì •ë¨]** `sensor_height` ëŒ€ì‹  `sensor_width`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •

```python
def estimate_distance_physics(
    shoulder_ratio: float,         # ì´ë¯¸ì§€ ê°€ë¡œ ëŒ€ë¹„ ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨
    focal_length_mm: float,
    sensor_width_mm: float = 7.47  # ìˆ˜ì •: sensor_height â†’ sensor_width
) -> float:
    """
    ë¬¼ë¦¬ ê¸°ë°˜ ê±°ë¦¬ ê³„ì‚° (í•€í™€ ì¹´ë©”ë¼ ëª¨ë¸)

    Parameters
    ----------
    shoulder_ratio : float
        í™”ë©´ ê°€ë¡œ ëŒ€ë¹„ ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨ (0.0 ~ 1.0)
        RTMPoseë¡œ ì¸¡ì •í•œ ê°’

    focal_length_mm : float
        í˜„ì¬ ë Œì¦ˆì˜ ì‹¤ì œ ì´ˆì ê±°ë¦¬ (mm)
        ì£¼ì˜: 35mm í™˜ì‚°ì´ ì•„ë‹Œ ì‹¤ì œ ë¬¼ë¦¬ì  ì´ˆì ê±°ë¦¬

    sensor_width_mm : float
        ì„¼ì„œì˜ ë¬¼ë¦¬ì  ê°€ë¡œ í¬ê¸° (mm)
        ê¸°ë³¸ê°’: 7.47mm (5.6mm Ã— 4/3, ì•„ì´í° 15 Pro)

    Returns
    -------
    float
        ì¶”ì • ê±°ë¦¬ (ë¯¸í„°)
    """

    # ì„±ì¸ í‰ê·  ì–´ê¹¨ ë„ˆë¹„ (ë¯¸í„°)
    REAL_SHOULDER_WIDTH_M = 0.45

    # [ìˆ˜ì •] ì„¼ì„œì— ë§ºíŒ ì–´ê¹¨ í¬ê¸° (mm) - ê°€ë¡œ ê¸°ì¤€
    object_sensor_size_mm = shoulder_ratio * sensor_width_mm

    # 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ë°©ì§€
    if object_sensor_size_mm < 0.001:
        return float('inf')

    # ë‹¨ìœ„ í†µì¼ (mm â†’ m)
    focal_length_m = focal_length_mm / 1000
    object_sensor_size_m = object_sensor_size_mm / 1000

    # í•€í™€ ê³µì‹ ì ìš©
    distance_m = (REAL_SHOULDER_WIDTH_M * focal_length_m) / object_sensor_size_m

    return distance_m
```

#### 7.2.2 ë””ë°”ì´ìŠ¤ë³„ ì„¼ì„œ ì •ë³´

> **[ìˆ˜ì •ë¨]** `sensor_height` ëŒ€ì‹  `sensor_width`ë¥¼ ì €ì¥

```python
# ì£¼ìš” ìŠ¤ë§ˆíŠ¸í° ì„¼ì„œ ì‚¬ì–‘ ë°ì´í„°ë² ì´ìŠ¤
DEVICE_SENSOR_DB = {
    'iPhone 15 Pro': {
        'sensor_width_mm': 7.47,   # ìˆ˜ì •: ê°€ë¡œ í­ (5.6 Ã— 4/3)
        'sensor_height_mm': 5.6,   # ì„¸ë¡œ ë†’ì´ (ì°¸ê³ ìš©)
        'focal_lengths': {
            0.5: 2.22,   # ì´ˆê´‘ê° 13mm (35mm í™˜ì‚°)
            1.0: 6.86,   # ê´‘ê° 24mm
            2.0: 6.86,   # ë””ì§€í„¸ ì¤Œ (ê´‘ê° í¬ë¡­)
            3.0: 6.86,   # ë””ì§€í„¸ ì¤Œ
            5.0: 12.0,   # ë§ì› 120mm
        }
    },
    'iPhone 15 Pro Max': {
        'sensor_width_mm': 7.47,
        'sensor_height_mm': 5.6,
        'focal_lengths': {
            0.5: 2.22, 1.0: 6.86, 2.0: 6.86, 3.0: 6.86, 5.0: 17.0
        }
    },
    'iPhone 15': {
        'sensor_width_mm': 6.67,   # 5.0 Ã— 4/3
        'sensor_height_mm': 5.0,
        'focal_lengths': {0.5: 2.0, 1.0: 5.7, 2.0: 5.7}
    },
    'Galaxy S24 Ultra': {
        'sensor_width_mm': 9.6,    # 7.2 Ã— 4/3
        'sensor_height_mm': 7.2,
        'focal_lengths': {
            0.6: 2.2, 1.0: 6.3, 2.0: 6.3, 3.0: 11.0, 5.0: 11.0, 10.0: 22.0
        }
    },
    'Pixel 8 Pro': {
        'sensor_width_mm': 8.53,   # 6.4 Ã— 4/3
        'sensor_height_mm': 6.4,
        'focal_lengths': {0.5: 2.2, 1.0: 6.9, 2.0: 6.9, 5.0: 13.0}
    },
    'default': {
        'sensor_width_mm': 7.33,   # 5.5 Ã— 4/3
        'sensor_height_mm': 5.5,
        'focal_lengths': {0.5: 2.2, 1.0: 6.0, 2.0: 6.0, 3.0: 6.0, 5.0: 12.0}
    }
}
```

#### 7.2.3 í†µí•© ê±°ë¦¬ ì¶”ì • í•¨ìˆ˜

> **[ìˆ˜ì •ë¨]** `closest_zoom` ë¡œì§ì„ **ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ë³´ê°„**ìœ¼ë¡œ ë³€ê²½

```python
def estimate_distance_v2(
    shoulder_ratio: float,
    zoom_level: float,
    device_model: str
) -> float:
    """
    ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ ê³ ë ¤í•œ ê±°ë¦¬ ì¶”ì •

    [ìˆ˜ì •ë¨] ì¤Œ ë ˆë²¨ â†’ ì´ˆì ê±°ë¦¬ ë³€í™˜ ì‹œ ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ë³´ê°„ ì ìš©
    """

    device_info = get_device_info(device_model)
    sensor_width_mm = device_info['sensor_width_mm']  # ìˆ˜ì •: width ì‚¬ìš©

    # [ìˆ˜ì •] ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ìœ íš¨ ì´ˆì ê±°ë¦¬ ê³„ì‚°
    focal_length_mm = get_effective_focal_length(
        zoom_level=zoom_level,
        focal_lengths=device_info['focal_lengths']
    )

    distance = estimate_distance_physics(
        shoulder_ratio=shoulder_ratio,
        focal_length_mm=focal_length_mm,
        sensor_width_mm=sensor_width_mm
    )

    return distance


def get_effective_focal_length(
    zoom_level: float,
    focal_lengths: dict
) -> float:
    """
    [ìƒˆë¡œ ì¶”ê°€] ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ìœ íš¨ ì´ˆì ê±°ë¦¬ ê³„ì‚°

    ìŠ¤ë§ˆíŠ¸í° ì¤Œ ë™ì‘ ì›ë¦¬:
    - 1.0x~2.9x: ê´‘ê° ë Œì¦ˆ(24mm) + ë””ì§€í„¸ í¬ë¡­
    - 3.0x~4.9x: ë§ì› ë Œì¦ˆ(77mm)ë¡œ ë¬¼ë¦¬ ì „í™˜ + ë””ì§€í„¸ í¬ë¡­
    - 5.0x~: í˜ë¦¬ìŠ¤ì½”í”„(120mm)ë¡œ ì „í™˜

    ê¸°ì¡´ì˜ "ê°€ì¥ ê°€ê¹Œìš´ ì¤Œ" ë¡œì§ì€ ê³„ë‹¨ì‹ ì í”„ë¥¼ ìœ ë°œí•¨.
    ëŒ€ì‹ , ë¬¼ë¦¬ ë Œì¦ˆë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„ í˜• ë³´ê°„.
    """

    available_zooms = sorted(focal_lengths.keys())

    # í˜„ì¬ ì¤Œ ë ˆë²¨ "ì´í•˜"ì˜ ê°€ì¥ ê°€ê¹Œìš´ ë¬¼ë¦¬ ë Œì¦ˆ ì°¾ê¸°
    # (iOSëŠ” ë‚®ì€ ë Œì¦ˆë¥¼ í¬ë¡­í•´ì„œ ì¤‘ê°„ ë°°ìœ¨ì„ êµ¬í˜„)
    base_lens_zoom = available_zooms[0]
    for z in available_zooms:
        if z <= zoom_level:
            base_lens_zoom = z
        else:
            break

    base_focal_mm = focal_lengths[base_lens_zoom]

    # ë””ì§€í„¸ ì¤Œ ë°°ìœ¨ ê³„ì‚°
    digital_zoom_factor = zoom_level / base_lens_zoom

    # ìœ íš¨ ì´ˆì ê±°ë¦¬ = ë¬¼ë¦¬ ì´ˆì ê±°ë¦¬ Ã— ë””ì§€í„¸ ì¤Œ
    effective_focal = base_focal_mm * digital_zoom_factor

    return effective_focal
```

**ì˜ˆì‹œ:**

| ì¤Œ ë ˆë²¨ | ê¸°ì¡´ closest_zoom | ìˆ˜ì •ëœ ë³´ê°„ ë°©ì‹ |
|---------|-------------------|------------------|
| 1.9x | 2.0x â†’ 48mm (ì í”„) | 6.86 Ã— 1.9 = 13.0mm |
| 4.0x | 5.0x â†’ 120mm (ì í”„) | 6.86 Ã— (4/3) = 9.1mm ë˜ëŠ” ë¬¼ë¦¬ ë Œì¦ˆ ì „í™˜ |

### 7.3 ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨ ê³„ì‚°

#### 7.3.1 RTMPose í‚¤í¬ì¸íŠ¸ ì¸ë±ìŠ¤

```python
KEYPOINT_INDICES = {
    'left_shoulder': 5,
    'right_shoulder': 6,
    'left_hip': 11,
    'right_hip': 12,
}
```

#### 7.3.2 ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨ ê³„ì‚°

> **[ìˆ˜ì •ë¨]** ìœ í´ë¦¬ë“œ ê±°ë¦¬(`sqrt`) ëŒ€ì‹  **Xì¶• ì°¨ì´ë§Œ(`abs`)** ì‚¬ìš©

```python
def calculate_shoulder_ratio(
    keypoints: list,
    confidences: list,
    image_width: int,          # ìˆ˜ì •: image_height â†’ image_width
    min_confidence: float = 0.5
) -> float:
    """
    RTMPose í‚¤í¬ì¸íŠ¸ì—ì„œ ì–´ê¹¨ ë„ˆë¹„ ë¹„ìœ¨ ê³„ì‚°

    [ìˆ˜ì •ë¨]
    1. ìœ í´ë¦¬ë“œ ê±°ë¦¬ â†’ Xì¶• ì°¨ì´ë§Œ ì‚¬ìš© (ê¸°ìš¸ê¸° ë…¸ì´ì¦ˆ ì œê±°)
    2. ì´ë¯¸ì§€ ì„¸ë¡œ â†’ ì´ë¯¸ì§€ ê°€ë¡œ ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½
    """

    left_shoulder_idx = KEYPOINT_INDICES['left_shoulder']
    right_shoulder_idx = KEYPOINT_INDICES['right_shoulder']

    # ì‹ ë¢°ë„ ì²´í¬
    if (confidences[left_shoulder_idx] < min_confidence or
        confidences[right_shoulder_idx] < min_confidence):
        return -1.0

    left_shoulder = keypoints[left_shoulder_idx]
    right_shoulder = keypoints[right_shoulder_idx]

    # [ìˆ˜ì •] ì–´ê¹¨ ë„ˆë¹„ ê³„ì‚° - Xì¶• ì°¨ì´ë§Œ ì‚¬ìš© (ê¸°ìš¸ê¸° ë…¸ì´ì¦ˆ ì œê±°)
    # ê¸°ì¡´: np.sqrt((x1-x2)Â² + (y1-y2)Â²)  â† ìœ¼ì“±í•˜ë©´ ê³¼ëŒ€ ì¸¡ì •
    # ìˆ˜ì •: abs(x1 - x2)  â† ê°€ë¡œ í­ë§Œ ì¸¡ì •
    shoulder_width_pixels = abs(left_shoulder[0] - right_shoulder[0])

    # [ìˆ˜ì •] í™”ë©´ ê°€ë¡œ ëŒ€ë¹„ ë¹„ìœ¨ (ì„¸ë¡œ â†’ ê°€ë¡œë¡œ ë³€ê²½)
    shoulder_ratio = shoulder_width_pixels / image_width

    return shoulder_ratio
```

**ìˆ˜ì • ì´ìœ :**

| ìƒí™© | ê¸°ì¡´ sqrt | ìˆ˜ì •ëœ abs(x) |
|------|-----------|---------------|
| ì •ë©´ ì´¬ì˜ | ê±°ì˜ ë™ì¼ | ë™ì¼ |
| ì–´ê¹¨ ìœ¼ì“± | ê³¼ëŒ€ ì¸¡ì • âŒ | ì •í™• âœ… |
| ê³ ê°œ ê°¸ìš°ëš± | ê³¼ëŒ€ ì¸¡ì • âŒ | ì •í™• âœ… |

---

## 8. ì‹¤ì‹œê°„ ê°€ì´ë“œ ì•Œê³ ë¦¬ì¦˜

### 8.1 ê°€ì´ë“œ ì—”ì§„ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Guidance Engine                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ì…ë ¥:                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚  Reference Profile  â”‚    â”‚   Current State     â”‚                        â”‚
â”‚  â”‚  â€¢ zoom: 2x         â”‚    â”‚   â€¢ zoom: 1x        â”‚                        â”‚
â”‚  â”‚  â€¢ distance: 2.1m   â”‚    â”‚   â€¢ shoulder: 0.45  â”‚                        â”‚
â”‚  â”‚  â€¢ shoulder: 0.32   â”‚    â”‚   â€¢ center: (0.5,   â”‚                        â”‚
â”‚  â”‚  â€¢ center: (0.5,    â”‚    â”‚             0.4)    â”‚                        â”‚
â”‚  â”‚            0.35)    â”‚    â”‚   â€¢ person: True    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚               â”‚                       â”‚                                     â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                           â–¼                                                 â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚                   â”‚   Compare &   â”‚                                         â”‚
â”‚                   â”‚   Calculate   â”‚                                         â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚                           â–¼                                                 â”‚
â”‚  ì¶œë ¥:                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ zoom_guide: "2xë¡œ ì¤Œí•˜ì„¸ìš”"                                      â”‚   â”‚
â”‚  â”‚  â€¢ distance_guide: "1.2m ë’¤ë¡œ ê°€ì„¸ìš”"                               â”‚   â”‚
â”‚  â”‚  â€¢ position_guide: "ì•½ê°„ ìœ„ë¡œ"                                      â”‚   â”‚
â”‚  â”‚  â€¢ is_ready: False                                                  â”‚   â”‚
â”‚  â”‚  â€¢ match_score: 0.65                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ê°€ì´ë“œ ê³„ì‚° ë¡œì§

```python
@dataclass
class GuidanceResult:
    zoom_guide_text: str
    zoom_ok: bool
    distance_guide_text: str
    distance_ok: bool
    distance_direction: GuidanceDirection
    position_guide_text: str
    position_ok: bool
    is_ready: bool
    match_score: float


def calculate_guidance(
    ref_profile: ReferenceProfile,
    current_state: CurrentState,
    device_model: str
) -> GuidanceResult:

    # 1. ì¤Œ ê°€ì´ë“œ (í—ˆìš© ì˜¤ì°¨: 0.2ë°°)
    zoom_diff = abs(ref_profile.zoom_level - current_state.zoom_level)
    zoom_ok = zoom_diff <= 0.2

    # 2. ê±°ë¦¬ ê°€ì´ë“œ (ì–´ê¹¨ ë¹„ìœ¨ ì°¨ì´: 5% ì´ë‚´)
    shoulder_diff = current_state.shoulder_ratio - ref_profile.shoulder_ratio
    distance_ok = abs(shoulder_diff) <= 0.05

    # 3. ìœ„ì¹˜ ê°€ì´ë“œ (ì¤‘ì‹¬ì  ì°¨ì´: 3% ì´ë‚´)
    dx = ref_profile.shoulder_center[0] - current_state.shoulder_center[0]
    dy = ref_profile.shoulder_center[1] - current_state.shoulder_center[1]
    position_ok = abs(dx) <= 0.03 and abs(dy) <= 0.03

    # 4. ì¢…í•© ì ìˆ˜
    match_score = (
        max(0, 1 - zoom_diff / 2) * 0.3 +
        max(0, 1 - abs(shoulder_diff) / 0.2) * 0.5 +
        max(0, 1 - (abs(dx) + abs(dy)) / 0.1) * 0.2
    )

    is_ready = zoom_ok and distance_ok and position_ok

    return GuidanceResult(...)
```

### 8.3 ì‹¤ì‹œê°„ ì²˜ë¦¬ ìµœì í™”

#### 8.3.1 í”„ë ˆì„ ìŠ¤í‚µ ì „ëµ

```python
class GuidanceEngine:
    def __init__(self):
        self.intervals = {
            'rtmpose': 2,      # 2í”„ë ˆì„ë§ˆë‹¤ í¬ì¦ˆ ê²€ì¶œ
            'guidance': 3,     # 3í”„ë ˆì„ë§ˆë‹¤ ê°€ì´ë“œ ê³„ì‚°
            'ui_update': 1,    # ë§¤ í”„ë ˆì„ UI ì—…ë°ì´íŠ¸
        }
```

#### 8.3.2 ìŠ¤ë¬´ë”© (ë–¨ë¦¼ ë°©ì§€)

```python
class ValueSmoother:
    """ì§€ìˆ˜ ì´ë™ í‰ê· ìœ¼ë¡œ ê°’ ìŠ¤ë¬´ë”©"""

    def __init__(self, alpha: float = 0.3):
        self.alpha = alpha
        self.smoothed_value = None

    def update(self, new_value: float) -> float:
        if self.smoothed_value is None:
            self.smoothed_value = new_value
        else:
            self.smoothed_value = (
                self.alpha * new_value +
                (1 - self.alpha) * self.smoothed_value
            )
        return self.smoothed_value
```

---

## 9. êµ¬í˜„ ìƒì„¸

### 9.1 iOS í”„ë¡œì íŠ¸ êµ¬ì¡°

```
TryAngleApp/
â”œâ”€â”€ Models/CoreML/
â”‚   â”œâ”€â”€ FocalNet.mlpackage          # ìƒˆë¡œ ì¶”ê°€
â”‚   â”œâ”€â”€ DepthAnythingV2.mlpackage
â”‚   â”œâ”€â”€ YOLO11nDetector.mlpackage
â”‚   â””â”€â”€ rtmpose_int8.onnx
â”‚
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ Modules/
â”‚   â”‚   â”œâ”€â”€ Lens/
â”‚   â”‚   â”‚   â”œâ”€â”€ FocalNetService.swift
â”‚   â”‚   â”‚   â””â”€â”€ DepthAnythingCoreML.swift
â”‚   â”‚   â””â”€â”€ Pose/
â”‚   â”‚       â””â”€â”€ RTMPoseService.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Reference/
â”‚   â”‚   â”œâ”€â”€ ReferenceAnalyzer.swift
â”‚   â”‚   â””â”€â”€ ReferenceProfile.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Guidance/
â”‚   â”‚   â”œâ”€â”€ GuidanceEngine.swift
â”‚   â”‚   â”œâ”€â”€ GuidanceResult.swift
â”‚   â”‚   â””â”€â”€ DistanceEstimator.swift
â”‚   â”‚
â”‚   â””â”€â”€ Pipeline/
â”‚       â””â”€â”€ DetectionPipeline.swift
â”‚
â””â”€â”€ Views/
    â”œâ”€â”€ Camera/
    â”‚   â”œâ”€â”€ CameraView.swift
    â”‚   â””â”€â”€ GuidanceOverlayView.swift
    â””â”€â”€ Reference/
        â””â”€â”€ ReferencePickerView.swift
```

### 9.2 í•µì‹¬ Swift êµ¬í˜„

#### 9.2.1 FocalNetService

```swift
class FocalNetService {
    static let shared = FocalNetService()

    enum ZoomClass: Int, CaseIterable {
        case ultraWide = 0  // 0.5x
        case wide = 1       // 1x
        case standard = 2   // 2x
        case portrait = 3   // 3x
        case telephoto = 4  // 5x

        var zoomLevel: Float {
            switch self {
            case .ultraWide: return 0.5
            case .wide: return 1.0
            case .standard: return 2.0
            case .portrait: return 3.0
            case .telephoto: return 5.0
            }
        }
    }

    func estimateZoomClass(from image: UIImage,
                           completion: @escaping (Result<ZoomClass, Error>) -> Void) {
        // 1. Depth Map ìƒì„±
        // 2. RGB + Depth ê²°í•© (4ì±„ë„)
        // 3. CoreML ì¶”ë¡ 
        // 4. argmaxë¡œ í´ë˜ìŠ¤ ê²°ì •
    }
}
```

#### 9.2.2 GuidanceEngine

```swift
class GuidanceEngine: ObservableObject {
    @Published var currentGuidance: GuidanceResult?
    @Published var isReady: Bool = false
    @Published var matchScore: Float = 0

    private var shoulderSmoother = ValueSmoother(alpha: 0.3)
    private let distanceEstimator = DistanceEstimator()

    func processFrame(_ frame: FrameInput, currentZoom: Float, deviceModel: String) {
        // í”„ë ˆì„ ìŠ¤í‚µ ì ìš©
        // í¬ì¦ˆ ê²€ì¶œ â†’ ìŠ¤ë¬´ë”© â†’ ê°€ì´ë“œ ê³„ì‚°
    }
}
```

#### 9.2.3 DistanceEstimator

> **[ìˆ˜ì •ë¨]** `sensor_height` â†’ `sensor_width`, ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ë³´ê°„ ì ìš©

```swift
class DistanceEstimator {
    private let realShoulderWidth: Float = 0.45

    private let deviceDB: [String: DeviceSensorInfo] = [
        "iPhone 15 Pro": DeviceSensorInfo(
            sensorWidth: 7.47,   // ìˆ˜ì •: height â†’ width
            focalLengths: [0.5: 2.22, 1.0: 6.86, 2.0: 6.86, 3.0: 6.86, 5.0: 12.0]
        ),
        // ...
    ]

    func estimate(shoulderRatio: Float, zoomLevel: Float, deviceModel: String) -> Float {
        let deviceInfo = getDeviceInfo(deviceModel)

        // [ìˆ˜ì •] ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ìœ íš¨ ì´ˆì ê±°ë¦¬
        let focalLength = getEffectiveFocalLength(
            zoomLevel: zoomLevel,
            deviceInfo: deviceInfo
        )

        return estimatePhysics(
            shoulderRatio: shoulderRatio,
            focalLengthMM: focalLength,
            sensorWidthMM: deviceInfo.sensorWidth  // ìˆ˜ì •
        )
    }

    private func getEffectiveFocalLength(
        zoomLevel: Float,
        deviceInfo: DeviceSensorInfo
    ) -> Float {
        // [ìˆ˜ì •] ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ë³´ê°„
        let sortedZooms = deviceInfo.focalLengths.keys.sorted()

        // í˜„ì¬ ì¤Œ ì´í•˜ì˜ ê°€ì¥ ê°€ê¹Œìš´ ë¬¼ë¦¬ ë Œì¦ˆ ì°¾ê¸°
        var baseLensZoom: Float = sortedZooms[0]
        for z in sortedZooms {
            if z <= zoomLevel {
                baseLensZoom = z
            } else {
                break
            }
        }

        let baseFocalMM = deviceInfo.focalLengths[baseLensZoom]!
        let digitalZoomFactor = zoomLevel / baseLensZoom

        return baseFocalMM * digitalZoomFactor
    }

    private func estimatePhysics(
        shoulderRatio: Float,
        focalLengthMM: Float,
        sensorWidthMM: Float  // ìˆ˜ì •: height â†’ width
    ) -> Float {
        let objectSensorSize = shoulderRatio * sensorWidthMM
        guard objectSensorSize > 0.001 else { return Float.infinity }

        let focalLengthM = focalLengthMM / 1000
        let objectSensorSizeM = objectSensorSize / 1000

        return (realShoulderWidth * focalLengthM) / objectSensorSizeM
    }
}
```

---

## 10. UI/UX ì„¤ê³„

### 10.1 ê°€ì´ë“œ ì˜¤ë²„ë ˆì´ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        ì¹´ë©”ë¼ í”„ë¦¬ë·°                                â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚    â”‚
â”‚  â”‚                     â”‚   ğŸ‘» ê³ ìŠ¤íŠ¸   â”‚ â† ë ˆí¼ëŸ°ìŠ¤ ì‹¤ë£¨ì—£             â”‚    â”‚
â”‚  â”‚                     â”‚   ì˜¤ë²„ë ˆì´    â”‚    (ë°˜íˆ¬ëª…)                   â”‚    â”‚
â”‚  â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚                           ğŸ‘¤         â† í˜„ì¬ í”¼ì‚¬ì²´                  â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  â† â† â† ë’¤ë¡œ 1.2m                                           â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   ğŸ” ì¤Œ      â”‚  1x â†’ 2x í•„ìš”           â”‚  [  2x  ]                 â”‚    â”‚
â”‚  â”‚   ğŸ“ ê±°ë¦¬    â”‚  ë’¤ë¡œ 1.2m ì´ë™í•˜ì„¸ìš”    â”‚  â† â† â†                   â”‚    â”‚
â”‚  â”‚   ğŸ“ êµ¬ë„    â”‚  OK âœ“                    â”‚                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   ì¼ì¹˜ë„: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 78%                                           â”‚    â”‚
â”‚  â”‚                      [    ğŸ“¸ ì´¬ì˜    ]                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 SwiftUI ì»´í¬ë„ŒíŠ¸

```swift
struct GuidancePanel: View {
    let guidance: GuidanceResult?

    var body: some View {
        VStack(spacing: 12) {
            GuidanceRow(icon: "camera.metering.spot", title: "ì¤Œ", ...)
            GuidanceRow(icon: "arrow.left.and.right", title: "ê±°ë¦¬", ...)
            GuidanceRow(icon: "person.crop.rectangle", title: "êµ¬ë„", ...)
        }
        .padding(16)
        .background(.ultraThinMaterial)
        .cornerRadius(16)
    }
}

struct ShutterButton: View {
    let isReady: Bool
    let matchScore: Float
    let onCapture: () -> Void

    var body: some View {
        Button(action: { if isReady { onCapture() } }) {
            ZStack {
                Circle().stroke(isReady ? .white : .gray, lineWidth: 4)
                Circle().fill(isReady ? .white : .gray.opacity(0.5))
                if matchScore >= 0.9 {
                    Image(systemName: "checkmark").foregroundColor(.green)
                }
            }
        }
        .disabled(!isReady)
    }
}
```

---

## 11. ê°œë°œ ë¡œë“œë§µ

### Stage 1: ê¸°ë°˜ êµ¬ì¶• (Foundation)

**ëª©í‘œ:** ê¸°ì¡´ TryAngle ì•±ì— ë ˆí¼ëŸ°ìŠ¤ ë¶„ì„ ê¸°ëŠ¥ í†µí•©

**ì‘ì—… í•­ëª©:**
1. Focal-Net CoreML ë³€í™˜ (PyTorch â†’ ONNX â†’ CoreML)
2. ReferenceAnalyzer ì„œë¹„ìŠ¤ êµ¬í˜„
3. ê¸°ë³¸ UI êµ¬ì¶• (ë ˆí¼ëŸ°ìŠ¤ ì„ íƒ, ë¶„ì„ ê²°ê³¼ í‘œì‹œ)

---

### Stage 2: ì‹¤ì‹œê°„ ê°€ì´ë“œ (Real-time Guidance)

**ëª©í‘œ:** ì¹´ë©”ë¼ ë·°ì—ì„œ ì‹¤ì‹œê°„ ë§¤ì¹­ ê°€ì´ë“œ ì œê³µ

**ì‘ì—… í•­ëª©:**
1. GuidanceEngine êµ¬í˜„ (í”„ë ˆì„ ìŠ¤í‚µ, ìŠ¤ë¬´ë”©)
2. DistanceEstimator êµ¬í˜„ (ë¬¼ë¦¬ ê¸°ë°˜ ê±°ë¦¬ ê³„ì‚°)
3. ê°€ì´ë“œ ì˜¤ë²„ë ˆì´ UI (ê³ ìŠ¤íŠ¸, ë°©í–¥ í™”ì‚´í‘œ)

---

### Stage 3: ê³ ê¸‰ ê¸°ëŠ¥ (Advanced Features)

**ëª©í‘œ:** ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

**ì‘ì—… í•­ëª©:**
1. ìë™ ì¤Œ ì œì–´ (AVCaptureDevice)
2. í–…í‹± í”¼ë“œë°± ì‹œìŠ¤í…œ
3. íˆìŠ¤í† ë¦¬ & ì¦ê²¨ì°¾ê¸°

---

### Stage 4: ìµœì í™” & ë°°í¬ (Optimization & Release)

**ëª©í‘œ:** í”„ë¡œë•ì…˜ í’ˆì§ˆ ë‹¬ì„±

**ì‘ì—… í•­ëª©:**
1. Metal Performance Shaders í™œìš©
2. ThermalState ê¸°ë°˜ ë™ì  ì¡°ì ˆ
3. App Store ë°°í¬

---

## 12. ê¸°ìˆ ì  ì œì•½ ë° í•´ê²°ì±…

### 12.1 ìŠ¤ë§ˆíŠ¸í° ì„¼ì„œ ì •ë³´ íšë“

**ë¬¸ì œ:** iOSëŠ” ì •í™•í•œ ì„¼ì„œ í¬ê¸°ë¥¼ APIë¡œ ì œê³µí•˜ì§€ ì•ŠìŒ

**í•´ê²°ì±…:** ë””ë°”ì´ìŠ¤ ëª¨ë¸ë³„ í•˜ë“œì½”ë”©

```swift
struct DeviceSensorDatabase {
    static func getSensorInfo() -> SensorInfo? {
        var systemInfo = utsname()
        uname(&systemInfo)
        let modelCode = String(cString: &systemInfo.machine.0)

        switch modelCode {
        case "iPhone16,1": // iPhone 15 Pro
            return SensorInfo(sensorWidth: 7.47, ...)
        // ...
        }
    }
}
```

### 12.2 ë‹¤ì–‘í•œ ì¸ì¢…/ì²´í˜• ëŒ€ì‘

**ë¬¸ì œ:** ì–´ê¹¨ ë„ˆë¹„ëŠ” ê°œì¸ì°¨ê°€ í¼ (35cm ~ 50cm)

**í•´ê²°ì±…:**
1. í†µê³„ì  ê¸°ë³¸ê°’: ì„±ì¸ í‰ê·  40~45cm
2. ì‚¬ìš©ì ì…ë ¥ ì˜µì…˜: ì„¤ì •ì—ì„œ ë³¸ì¸ ì–´ê¹¨ ë„ˆë¹„ ì…ë ¥
3. ìƒëŒ€ì  ë¹„êµ: ë ˆí¼ëŸ°ìŠ¤ì™€ ë¼ì´ë¸Œì˜ **ë¹„ìœ¨ë§Œ** ë¹„êµ (ì ˆëŒ€ê°’ ë¶ˆí•„ìš”)

---

## 13. ê²°ë¡ 

### í•µì‹¬ í˜ì‹  í¬ì¸íŠ¸

1. **EXIF ì—†ì´ ì´¬ì˜ ì¡°ê±´ ì¶”ì •:** Focal-Net + Depth Map ìœµí•©
2. **ë¬¼ë¦¬ ê¸°ë°˜ ê±°ë¦¬ ê°€ì´ë“œ:** í•€í™€ ì¹´ë©”ë¼ ëª¨ë¸ + í¬ì¦ˆ ì¶”ì •
3. **ì‹¤ì‹œê°„ ë§¤ì¹­:** ë ˆí¼ëŸ°ìŠ¤ â†” ë¼ì´ë¸Œ ë¹„êµ
4. **ì˜¨ë””ë°”ì´ìŠ¤ AI:** ê°œì¸ì •ë³´ ë³´í˜¸ + ì˜¤í”„ë¼ì¸ ë™ì‘

### TryAngleì˜ ì°¨ë³„ì 

| ê¸°ì¡´ ì•±     | TryAngle              |
|-------------|-----------------------|
| EXIF í•„ìˆ˜   | EXIF ì—†ì´ë„ ë¶„ì„ ê°€ëŠ¥ |
| ìˆ˜ë™ ì„¤ì •   | AI ìë™ ì¶”ì •          |
| DSLR ì¤‘ì‹¬   | ìŠ¤ë§ˆíŠ¸í° ìµœì í™”       |
| ì •ì  ê°€ì´ë“œ | ì‹¤ì‹œê°„ ë™ì  ê°€ì´ë“œ    |

---

## ìˆ˜ì • ì´ë ¥

### v1.1 (2026-01-18) - ë¬¼ë¦¬ ê³µì‹ ì˜¤ë¥˜ ìˆ˜ì •

| ì„¹ì…˜ | ìˆ˜ì • ë‚´ìš© |
|------|-----------|
| 7.2.1 | `sensor_height` â†’ `sensor_width` (ì–´ê¹¨ëŠ” ê°€ë¡œ ì¸¡ì •ê°’) |
| 7.2.2 | ë””ë°”ì´ìŠ¤ DBì— `sensor_width_mm` ì¶”ê°€ |
| 7.2.3 | `closest_zoom` â†’ ë¬¼ë¦¬ ë Œì¦ˆ ê¸°ë°˜ ë³´ê°„ìœ¼ë¡œ ë³€ê²½ |
| 7.3.2 | `np.sqrt()` â†’ `abs(x_left - x_right)`ë¡œ ë³€ê²½ |
| 9.2.3 | Swift ì½”ë“œì—ë„ ë™ì¼ ìˆ˜ì • ì ìš© |

---

**ë¬¸ì„œ ë²„ì „:** 1.1
**ì‘ì„±ì¼:** 2026-01-18
**ì‘ì„±:** Claude Code (Opus 4.5)
